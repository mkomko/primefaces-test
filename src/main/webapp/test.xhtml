<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:test="http://xmlns.jcp.org/jsf/composite/components">

<h:head>
    <title>PrimeFaces Test</title>
    <h:outputScript name="test.js"/>
</h:head>
<h:body>

    <h1>PrimeFaces Test</h1>
    <h:form id="form">
        <p:commandButton value="Open dialog"
                         action="#{testView.openDialog}"
                         update="personDialog"
                         process="@this"/>
    </h:form>

    <div class="dialogs">

        <div jsf:id="personDialog">
            <h:form id="dialogForm">

                <p:dialog id="dialog"
                          modal="true"
                          responsive="true"
                          closable="false"
                          visible="#{personDialogView.visible}">

                    <f:facet name="header">
                        Edit person
                        <p:commandButton id="cancel"
                                         value="Cancel"
                                         action="#{personDialogView.cancel}"
                                         process="@this"
                                         update="dialogForm"/>
                    </f:facet>

                    <test:personData id="personData"
                                     person="#{personDialogView.person}"
                                     personData="#{personDialogView.person.personData}"
                                     fields="#{personDialogView.personFields}"/>

                </p:dialog>

            </h:form>
        </div>

    </div>

</h:body>
</html>
