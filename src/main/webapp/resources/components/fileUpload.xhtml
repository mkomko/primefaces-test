<?xml version="1.0" encoding="UTF-8"?>

<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:cc="http://xmlns.jcp.org/jsf/composite"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:p="http://primefaces.org/ui"
              xmlns:h="http://xmlns.jcp.org/jsf/html">
    <cc:interface>

        <cc:attribute name="fileUploadListener"
                      required="true"
                      method-signature="void listener(org.primefaces.event.FileUploadEvent)"/>

        <cc:attribute name="update"
                      type="java.lang.String"/>

        <cc:attribute name="allowTypes"
                      default="/.*/"/>
        <cc:attribute name="accept"/>
        <cc:attribute name="fileLimit"
                      default="1"/>
        <cc:attribute name="sizeLimit"/>
        <cc:attribute name="multiple"
                      default="false"/>
    </cc:interface>
    <cc:implementation>
        <div id="#{cc.clientId}">
            <p:fileUpload id="fileUpload"
                          listener="#{cc.attrs.fileUploadListener}"
                          update="#{cc.attrs.update}"
                          fileLimit="#{cc.attrs.fileLimit}"
                          sizeLimit="#{cc.attrs.sizeLimit}"
                          auto="true"
                          accept="#{cc.attrs.accept}"
                          sequential="true"
                          allowTypes="#{cc.attrs.allowTypes}"
                          multiple="#{cc.attrs.multiple}"/>
        </div>
    </cc:implementation>
</ui:component>
