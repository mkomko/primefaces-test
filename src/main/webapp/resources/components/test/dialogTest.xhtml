<?xml version="1.0" encoding="UTF-8"?>
<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:cc="http://xmlns.jcp.org/jsf/composite"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:f="http://xmlns.jcp.org/jsf/core"
              xmlns:p="http://primefaces.org/ui"
              xmlns:test="http://xmlns.jcp.org/jsf/composite/components/test">
    <cc:interface>

        <cc:attribute name="update"/>

    </cc:interface>
    <cc:implementation>

        <div id="#{cc.clientId}">

            <test:dialogBase id="dialog"
                             header="Test Dialog"
                             visible="#{testDialogAction.visible}"
                             update="#{cc.clientId} #{cc.attrs.update}">

                <p:selectOneMenu id="items"
                                 label="Items"
                                 value="#{testDialogAction.selectedItem}"
                                 required="true">
                    <f:selectItems value="#{testDialogAction.items}"
                                   var="i"
                                   itemLabel="#{i.name}"/>
                    <p:ajax event="change"
                            listener="#{testDialogAction.onItemChanged}"
                            update="#{cc.clientId}"/>
                </p:selectOneMenu>

            </test:dialogBase>


        </div>

    </cc:implementation>
</ui:component>
